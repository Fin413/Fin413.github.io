<!-- 
    made for the science olympics
    we created an amusement park ride called swings of death
    jawad did speed calcualtions and i made this site to make it easier
 -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html, body{
            margin: 0;
            height: 100%;
        }

        form{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 90%;
        }

        .inputContainer{
            margin: 5px;
            display: flex;
            flex-direction: column;
            /* width: min-content; */
        }

        input{
            border: 1px solid black;
            width: 175px;
        }

        button{
            margin: 20px;
            cursor: pointer;
        }

        #title{
            max-width: 300px;
            text-align: center;
            /* margin-bottom: -5px; */
        }

        p{
            /* margin-bottom: 30px; */
        }
    </style>

</head>
<body>
    <form onsubmit="event.preventDefault(); calculate()">
        <h1 id="title">Jawad's Fancy Calculus Calculator</h1>
        <!-- <p>All Values in Meters and Seconds</p> -->
        <div class="inputContainer">
            <label>Fan Height (m)</label>
            <input inputmode="decimal" step="any" id="fanHeight" type="number">
        </div>
        <div class="inputContainer">
            <label>Max Height of Egg (m)</label>
            <input inputmode="decimal" step="any" id="eggHeight" type="number">
        </div>
        <div class="inputContainer">
            <label>Length of String (m)</label>
            <input inputmode="decimal" step="any" id="length" type="number">
        </div>
        <div class="inputContainer">
            <label>Radius of Fan (m)</label>
            <input inputmode="decimal" step="any" id="radius" type="number">
        </div>

        <div class="inputContainer">
            <label>Time 1 (s)</label>
            <input inputmode="decimal" step="any" id="1" type="number">
        </div>
        <div class="inputContainer">
            <label>Time 2 (s)</label>
            <input inputmode="decimal" step="any" id="2" type="number">
        </div>
        <div class="inputContainer">
            <label>Time 3 (s)</label>
            <input inputmode="decimal" step="any" id="3" type="number">
        </div>

        <button type="submit">Calculate</button>
        <h3 id="answer">&nbsp;</h3>
    </form>
  

    <script>
        document.getElementById("radius").value = 0.15;

        var result =  document.getElementById("answer");

        function calculate(){
            var Hf = parseFloat(document.getElementById("fanHeight").value); // fan height
            var He = parseFloat(document.getElementById("eggHeight").value); // max height of egg
            var L = parseFloat(document.getElementById("length").value); // length of string
            var Rfan = parseFloat(document.getElementById("radius").value); // radius of the fan
            var t1 = parseFloat(document.getElementById("1").value);;
            var t2 = parseFloat(document.getElementById("2").value);;
            var t3 = parseFloat(document.getElementById("3").value);;

            if(isNaN(Hf + He + L + Rfan)){
                result.innerText = "Fill out all Feilds";
                return;
            }

            var Acf = 9.81 / Math.tan(Math.asin((Hf - He) / L)); // final centripetal acceleration
            var Rf = Math.sqrt(Math.pow(L, 2) - Math.pow(Hf - He, 2)) + Rfan; // final radius
            var Ri = Rfan; // initial radius

            var V1 = 4 * Math.sqrt(Acf) * (Math.pow(Rf, 3/2) - Math.pow(Ri, 3/2));
            V1 = V1 / (9 * (Rf - Ri));

            var V2 = 9.81 * (Math.sqrt(Math.pow(L, 2) - Math.pow(Hf - He, 2)) + Rfan);
            V2 = Math.sqrt(V2 / Math.tan(Math.asin((Hf - He) / L)));

            var V3 = V2 / 2; // Vf = 0

            var total = ((V1 * t1) + (V2 * t2) + (V3 * t3)) / (t1 + t2 + t3);

            console.log(V1, V2, V3);

            result.innerText = total + " m/s";
        }
    </script>
    
</body>
</html>
