<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="clock.svg">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <title>Time is Money</title>
    <style>
        :root{
            --accentColor: #FFFF;
        }

        /* .main::-webkit-scrollbar {
            width: 100px;
        }

        .main::-webkit-scrollbar-track {
            background: grey;
        }

        .main::-webkit-scrollbar-thumb {
            background: blue;
        } */

 
        body,
        html {
            height: 100%;
            overflow: hidden;
        }
        
        body {
            margin: 0;
            /* font-family: Arial, Helvetica, sans-serif; */
            font-family: 'Open Sans', sans-serif;
            display: flex;
            flex-direction: column;
        }

        .noSelect {
            user-drag: none;
            -webkit-user-drag: none;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
        
        .statBar {
            position: relative;
            /* width: 100%; */
            display: flex;
            z-index: 5;
            border-bottom: 2px solid black;
        }
        
        .spaceEvenly {
            display: flex;
            justify-content: space-evenly;
            width: 100%;
            background-color: #7F7F7F;
            /* rgba(0, 0, 0, 0.5); */
            height: 126px;
            position: relative;
        }
        
        .statItem {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            margin: 25px;
            width: 150px;
            color: white;
            /* transform: translateY(-500px); */
            transition: transform 1s, margin 1s;
        }
        
        .statItem>* {
            margin: 5px;
        }
        
        .infoContainer {
            background-color: white;
            width: 1000px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .infoContainer>img {
            border-radius: 100%;
            aspect-ratio: 1;
            object-fit: cover;
        }
        
        /* .info {
            text-align: center;
        }
        
        .info h3 {
            font-weight: normal;
        }
        
        .info>* {
            margin: 5px;
        } */
        
        .clock {
            margin-right: 25px;
            transform: rotate(0deg);
            transition: transform 1s;
        }

        .showMobile {
            display: none;
        }
        
        .mobileContainer,
        .hideMobile {
            width: min-content;
            height: 100%;
            display: flex;
            align-items: center;
            background-color: white;
        }
        
       
        
        @media only screen and (max-width: 1300px) {
            #columnSmall{
                flex-direction: column;
            }
        }
        
        .moveForward {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: white;
            display: flex;
            box-shadow: rgba(100, 100, 111, 0.5) 0px 7px 29px 0px;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            /* padding: 25px 75px 25px 75px; */
            padding: 25px 0 25px 0;
        }
        
        .moveForward>* {
            margin: 10px;
        }
        
        .skipBtn {
            padding: 5px 20px 5px 20px;
            border: 1px solid black;
            background-color: white;
            cursor: pointer;
            font-size: 20px;
            font-family: 'Open Sans', sans-serif;

            border-radius: 4px;
        }
        
        .skipBtn:hover {
            opacity: 0.5;
        }
        
        .skipBtn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .shop {
            display: flex;
            align-items: center;
            flex-direction: column;
            /* display: none; */
        }
        
        .grid {
            display: grid;
            padding: 0 100px 0 100px;
            gap: 50px;
            grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
        }
        
        .gridItem {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            margin-bottom: 100px;
        }
        
        .itemImg {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
        }
        
        .itemInfo {
            width: 95%;
            position: absolute;
            box-sizing: border-box;
            background-color: white;
            padding: 20px;
            bottom: -100px;
            box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;
        }
        
        .itemTitle {
            margin: 0;
        }
        
        .itemPrice {
            margin: 5px 0 5px 0;
        }
        
        .buyBtn {
            font-family: 'Open Sans', sans-serif;

            border: 1px solid green;
            border-radius: 5px;
            padding: 4px 15px 5px 15px;
            background-color: white;
            color: green;
            font-weight: bold;
            cursor: pointer;
            font-size: 18px;
            /* margin-top: 10px; */
        }
        
        .buyBtn:hover {
            transform: scale(1.2);
        }
        
        .row {
            display: flex;
            align-items: center;
            flex-direction: row;
            justify-content: space-between;
            width: 100%;
        }
        
        .defaultBtn {
            padding: 8px 20px 10px 20px;
            border: 1px solid black;
            background-color: white;
            border-radius: 2px;
            cursor: pointer;
            font-size: 20px;
            font-family: 'Open Sans', sans-serif;
        }
        
        .defaultBtn:hover {
            opacity: 0.5;
        }
        
        .message {
            width: 100%;
            text-align: center;
        }
        
        .message h1 {
            font-size: 50px;
        }
        
        .message p {
            font-size: 30px;
        }
        
        .overlayContainer {
            transition: background 500ms;
            display: none;
            /* opacity: 0; */
            width: 100vw;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 10;
            background-color: rgba(0, 0, 0, 0);
            align-items: center;
            justify-content: center;
            padding: 0;
            /* backdrop-filter: blur(1px); */
            margin: 0;
        }
        
        .overlayContent {
            border-radius: 5px;

            position: relative;
            background-color: white;
            padding: 50px;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            text-align: center;
            font-size: clamp(16px, 2vw, 20px);
            max-width: 800px;
            margin-bottom: 50px;
            transform: translateY(-250%);
            transition: transform 500ms;
            margin-left: 50px;
            margin-right: 50px;
        }
        
        .overlayContent h1 {
            margin-top: 0;
        }
        
        .overlayBtn {
            margin-top: 30px;
        }
        
        .triangle {
            width: 80%;
            margin: auto;
            position: relative;
            overflow: hidden;
            background: #CBCCD0;
            box-shadow: inset 0px 0px 0px 10px #A1A0A5;
            border: 25px solid #CBCCD0;
            padding: 10px;
        }
        
        .triangle h1 {
            text-align: center;
            color: #343436;
        }
        
        .main {
            visibility: hidden;
            flex: 1;
            opacity: 0;
            margin: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            background: linear-gradient(to right, black 4px, transparent 4px) 0% 0%, linear-gradient(to right, black 4px, transparent 4px) 0% 100%, linear-gradient(to left, black 4px, transparent 4px) 100% 0%, linear-gradient(to left, black 4px, transparent 4px) 100% 100%, linear-gradient(to bottom, black 4px, transparent 4px) 0% 0%, linear-gradient(to bottom, black 4px, transparent 4px) 100% 0%, linear-gradient(to top, black 4px, transparent 4px) 0% 100%, linear-gradient(to top, black 4px, transparent 4px) 100% 100%;
            background-repeat: no-repeat;
            background-size: 50px 50px;
            position: relative;
            scroll-behavior: smooth;
            transition: margin 1s, padding 1s, opacity 1s;
        }
        /* width */
        
        .main::-webkit-scrollbar {
            width: 10px;
            left: 20px;
        }
        /* Track */
        
        .main::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        /* Handle */
        
        .main::-webkit-scrollbar-thumb {
            background: #888;
        }
        /* Handle on hover */
        
        .main::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        .startingMessage {
            margin-bottom: 50px;
            max-width: 700px;
            display: block;
            /* visibility: hidden; */
            /* remove displat noen enksdnfkjas */
        }

        .startingMessage h1{
       
            color: var(--accentColor);

        }
        
        .column {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .helpBtn {
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5px 10px 2px 9px;
            position: absolute;
            top: 10px;
            left: 10px;
            transition: padding 400ms, border-radius 400ms;
            overflow: hidden;
            background-color: white;
            cursor: pointer;
            border: 2px solid black;
            border-radius: 10px;
        }
        
        .helpBtnText {
            position: absolute;
            left: 39px;
            top: 6px;
            font-size: 17px;
        }
        
        .helpBtn:hover {
            padding-right: 50px;
            border-radius: 0;
        }
        
        .helpBtn img {
            /* margin-right: 10px; */
            margin-bottom: 3px;
        }
        
        .helpContainer {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            background-color: white;
            box-shadow: rgba(100, 100, 111, 0.75) 0px 7px 29px 0px;
            transform: translateY(100%);
            transition: transform 1s;
        }
        
        .progressBarContainer {
            background-color: black;
            width: 100%;
            display: flex;
            justify-content: center;
        }
        
        .progressBar {
            width: 100%;
            height: 7px;
            /* background-color: greenyellow; */
            background-color: var(--accentColor);
            transition: width 7s linear;
        }
        
        .helpText {
            padding: 25px;
            display: none;
            /* opacity: 0; */
        }
        
        .helpText p {
            margin: 0;
            /* margin-bottom: 5px; */
        }
        
        .helpText h2 {
            margin: 0;
            /* margin-bottom: 10px; */
        }
        
        input[type='range'] {
            -webkit-appearance: none;
            appearance: none;
            width: 75%;
            border-radius: 8px;
            outline: none;
            height: 8px;
            background-color: black;
            width: 200px;
        }
        
        input[type='range']::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            cursor: ew-resize;
            border-radius: 25px;
            background-color: white;
            border: 1px solid black;
        }
        
        .percent {
            width: 130px;
        }
        
        .mainGrid {
            width: 90%;
            height: 100%;
            justify-content: space-evenly;
            display: none;
        }
        
        .mainGrid>*,
        .raisedBox {
            padding-bottom: 25px;
            transition: background 1s;
            position: relative;
            width: 40%;
            min-width: 300px;
            /* height: 30%; */
            /* min-height: 200px; */
            margin-top: 25px;
            margin-bottom: 25px;
            box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -8px 0px inset;
        }
        
        @media (hover) {}
        
        .money {
            position: absolute;
            top: 10px;
            width: 50px;
            opacity: 0;
            transition: opacity 1s;
            z-index: 10;
        }
        
        .moneyText {
            color: green;

            /* background-color: #366F36;
            color: white;
            padding: 10px; */
            /* color: #366F36; */
            /* margin: 10px; */
            font-weight: bold;
        }
        
        .badMoneyText {
            color: red;
            /* font-size: 2em; */
            font-weight: bold;
            /* margin: 10px; */
            /* animation: scale 1s infinite; */
        }
        
        @keyframes scale {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }

        @keyframes jump {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(100px);
            }
            100% {
                transform: translateY(0);
            }
        }
        
        .jobs {
            display: none;
            flex-direction: column;
            margin-bottom: 120px;
        }
        
        .randomizeBtn {
            margin-bottom: 30px;
            width: 200px;
            min-height: 30px;
            margin-left: auto;
            margin-right: auto;
        }
        

        .transitionElement {
            transition: opacity 1s, height 1s, margin 1s;
        }
        
        @keyframes shake {
            0% {
                transform: translateX(0px)
            }
            25% {
                transform: translateX(-10px)
            }
            50% {
                transform: translateX(0)
            }
            75% {
                transform: translateX(10px)
            }
            100% {
                transform: translateX(0)
            }
        }
        
        .account {
            position: relative;
            box-sizing: content-box;
        }
        
        .subtleText {
            font-style: italic;
            opacity: 0.75;
        }
        
        .moneyInput,
        .percentInput {
            display: flex;
            width: 200px;
            margin: auto;
            position: relative;
        }
        
        .percentInput {
            width: 75px;
        }
        
        .moneyInput p {
            position: absolute;
            left: 10px;
            top: -11px;
        }
        
        .percentInput p {
            position: absolute;
            right: 10px;
            top: -11px;
        }
        
        .moneyInput input,
        .percentInput input {
            padding: 8px 10px 7px 25px;
            width: 100%;
            border: 1px solid rgb(118, 118, 118);
            border-radius: 3px;
        }
        
        .percentInput input {
            text-align: center;
            padding: 8px 12px 7px 0px;
        }
        
        .percentInput input::-webkit-outer-spin-button,
        .percentInput input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        .percentInput input[type=number] {
            -moz-appearance: textfield;
        }
        
        .extraniousExpenses {
            display: none;
            flex-direction: column;
        }
        
        .hidden {
            display: none;
        }
        
        .tip {
            width: 80%;
            margin: auto;
            margin-top: 75px;
            border: 1px solid black;
            padding: 30px 50px;
            display: flex;
            flex-direction: row;
            align-items: center;
            text-align: left;   
            max-width: 1100px;
        }
        
        .tip img {
            margin-right: 50px;
        }

        #exAmountSaved{
            display: inline-block;
            width: 50px;
        }

        table{
            margin: 60px auto;
        }

        td:first-child {
            text-align: left;
        }

        td:nth-child(2) {
            color: green;
            font-weight: bold;
        }

        .livingOption{
            width: 200px;
            aspect-ratio: 1;
            object-fit: cover;
            border: 10px solid rgba(0,0,0,0.1);
            transition: border 400ms;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
        }

        .livingOption:hover{
            border: 10px solid rgba(0,0,0,1)
        }

        .unis{
            margin: 15px;
        }

        .letter{
            margin: -4px;
            /* animation: jump 1s infinite; */
            display: inline-block;
            transition: transform 500ms;
        }

        .maxWidth{
            max-width: 1000px;
        }

        .dropdown {
            position: relative;
            display: inline-block;
            padding: 0px 25px;
            border: 1px solid black;
            line-height: 0;
            margin: 0 10px;
            border-radius: 5px;

        }

        .dropdownContent {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            max-height: 250px;
            overflow-y: scroll;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            /* padding: 12px 16px; */
            z-index: 1;
            top: 90%;
            left: 0;
            flex-direction: column;
            border-top: 1px solid black;
        }

        .dropdownBtn{
            padding: 10px;
            background-color: white;
            border: none;
            border-bottom: 1px solid black;
            border-left: none;
            border-right: none;
            width: 100%;
            cursor: pointer;
        }

        .dropdownBtn:hover{
            opacity: 0.5;
        }

        .dropdown:hover .dropdownContent, .dropdown:focus .dropdownContent {
            display: flex;
        }

        .dropdownContainer{
            display: flex; 
            align-items: center; 
            justify-content: center;
            margin: -10px 0;
            margin-top: 10px;
        }

        .rowClose{
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .budgetInput{
            margin-bottom: 15px;
        }

        .budgetItem{
            width: 100%;
            /* min-width: 300px; */
            box-sizing: border-box;
            max-width: 550px;
            padding: 15px;
            padding-bottom: 25px;

            margin: 25px 0;
            box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -8px 0px inset;
        }

        .summary{
            /* display: inline-block; */
            max-width: 550px;
        }

        .margin{
            margin: 25px;
        }

        .grow{
            animation: scale 1s infinite;
            width: fit-content;
            margin: auto;
            display: inline-block;
            font-size: 3em;
        }

        .header{
            visibility: hidden;
            position: relative;
            width: 100%;
            border-bottom: 2px solid black;
            display: flex;
            z-index: 5;
            padding: 25px 0;
            transition: margin 1s, opacity 1s;
            margin-top: -500px;
        }

        .headerItem{
            flex: 1;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            /* height: 100%; */
        }

        .headerItem:nth-child(2){
            background-color: rgba(0,0,0,0.1);
            border-radius: 10px;
        }

        .info{
            display: flex;
            flex-direction: column;
            /* align-items: center; */
            justify-content: center;
        }

        .info > * {
            margin: 4px;
        } 

        .info p {
            font-size: 18px;
        }

        .avatar{
            border-radius: 100%;
            margin: 0 15px;
            transition: transform 400ms;
            cursor: pointer;
            z-index: 5;
        }

        .avatar:hover{
            transform: scale(1.1);
        }

        .yearContainer {
            position: absolute;
            z-index: 1;
            border: 2px solid black;
            border-top: none;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 0 50px 0 50px;
            background-color: white; 
        }

        .yearContainer h1{
            margin: 15px;
        }


        #noMobile{
            width: 100%;
            height: 100%;
            position: fixed;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-direction: column;
            text-align: center;
            padding: 25px;
            box-sizing: border-box;
        }

        @media only screen and (min-width: 1000px) {
            #noMobile{
                display: none;
            }
        }

        .startingContainer{
            position: absolute;
            transition: opacity 500ms;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .startingContainer button{
            width: 200px;
            margin-top: 50px;
        }

        .startingPrompt{
            /* width: 100%; */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 0;
            /* margin-right: 100px; */
        }

        .startingPrompt h1{
            font-weight: normal;
            margin-bottom: 10px;
        }

        .startingPrompt input{
            font-size: 25px;
            /* margin-bottom: 50px; */
            border: 1px solid black;
            padding: 5px;
            border-radius: 5px;
            text-align: center;
        }

        .imgDisp{
            display: flex;
            flex-wrap: wrap;
            max-width: 400px;
            justify-content: center;
        }

        .imgDisp img{
            margin: 15px;
            transition: transform 400ms, border-radius 400ms;
            cursor: pointer;
            border-radius: 5px;
            height: 100px;
        }

        .imgDisp img:hover{
            transform: scale(1.1);
        }

        .inputsContainer{
            display: flex;
        }

        #inputErrText{
            transition: opacity 1s;
            opacity: 0;
            color: #C23B22;
        }

    </style>
</head>

<body>
    <!-- 
        DEADLINE
        Before midnight ET on April 29, 2022.

        IDEAS
        let them set goals at the start like "buy a house" and then idk tailor the gameplay somehow
        add slider between recreation and savings if they put 0 in recreateion be like "damn you happiness went down"
        make the avatar a smiley face that changes emotion
        at the end save highscore and get them to try and beat it also dispaly game overview that shows what went good and what went bad
        music?

        oldman time mascot

        add pop quizzes randomly throughout the game about money (if you get it wrong - money if you get it right +)

        
        ******** SHIT LIST ********

        When you get allowance
         - get them to fill out sum shit thats like "how much do you spend on blank"



        events
            getting a job
                when: after uni (or during for tuition) || age 16 - 18?
                features: minimum wage, promotom mini game??? 
            moving out
                when: after college/uni || random age 20-28
                features: rent (budgeting)
            university?
                when: age 18`
                options: move out, stay home, 
            children
            wife
    -->

    <div id="noMobile">
        <h1>Uh oh!</h1>
        <h2>Mobile and screen sizes smaller than 1000 pixels are not supported at this time</h2>
    </div>

    <div class="startingContainer">
        <div class="inputsContainer">
            <div class="startingPrompt" style="margin-right: 0px;">
                <div class="startingPrompt">
                    <h1>What's your name?</h1>
                    <input type="text" id="nameInput" spellcheck="false" maxlength="22">
                </div>
                <div class="startingPrompt" >
                    <h1>How old are you?</h1>
                    <input type="number" min="0" id="ageInput">
                </div>
            </div>
            <div class="startingPrompt" style="margin-left: 100px;">
                <h1>Select Character</h1>
                <div class="imgDisp">
                    <img onclick="selectAvatar(this)" class="avatarOption noSelect" src="pink.svg" width="100px">
                    <img onclick="selectAvatar(this)" class="avatarOption noSelect" src="blue.svg" width="100px">
                    <img onclick="selectAvatar(this)" class="avatarOption noSelect" src="green.svg" width="100px">
                    <img onclick="selectAvatar(this)" class="avatarOption noSelect" src="yellow.svg" width="100px">
                    <img onclick="selectAvatar(this)" class="avatarOption noSelect" src="purple.svg" width="100px">
                    <!-- darkened by 60.27 -->
                </div>

            </div>
        </div>

        <p id="inputErrText" class="subtleText">&nbsp;</p>
        <button class="defaultBtn" onclick="setup()" id="startBtn">Start</button>
    </div>

    <div class="header">
        <div class="headerItem">
            <div class="info" style="text-align: right">
                <p id="name"></p>
                <p id="age"></p>
            </div>
            <img class="avatar" width="75px" src="pink.svg" onclick="rainMoney(1000)">
            <div class="info" style="text-align: left">
                <p id="job"></p>
                <p id="wage"></p>
            </div>
        </div>
        <div class="headerItem account">
            <div class="info">
                <h2>Account</h2>
                <h2 id="balance">$0</h2>
            </div>
        </div>
        <div class="headerItem">
            <img class="clock" width="75" src="clock.svg">
            <div class="info">
                <h2>Time Skip</h2>
                <button onclick="moveForward()" class="skipBtn">GO!</button>
            </div>
        </div>

        <div class="yearContainer">
            <h1 id="year"></h1>
        </div>
    </div>

    <div class="main">
        <div class="startingMessage">
            <h1>Time is Money!</h1>
            <p id="startMess"></p>
        </div>

        <div class="jobs block">
            <h1 class="title">Part-Time Job Postings</h1>
            <button class="randomizeBtn defaultBtn">Randomize Jobs</button>
            <div class="grid">
                <!-- jobs added dynamically -->
            </div>

        </div>

        <div class="extraniousExpenses">
            <h3>How much money do you think you personally spend on the things below every month?</h3>
            <p>Food</p>
            <div class="moneyInput">
                <p>$</p>
                <input type="number" min="0" placeholder="0.00" inputMode="decimal" step="any" id="foodInput" class="expenseInput" onInput="validateNumInput(this)">
            </div>
            <p>Clothing</p>
            <div class="moneyInput">
                <p>$</p>
                <input type="number" min="0" placeholder="0.00" inputMode="decimal" step="any" id="foodInput" class="expenseInput" onInput="validateNumInput(this)">
            </div>
            <p>Entertainment</p>
            <div class="moneyInput">
                <p>$</p>
                <input type="number" min="0" placeholder="0.00" inputMode="decimal" step="any" id="foodInput" class="expenseInput" onInput="validateNumInput(this)">
            </div>

            <p class="subtleText">Once everything is filled out click the time skip button</p>
        </div>

        <div class="extraniousExpenses">
            <div class="row">
                <div style="margin-right: 50px">
                    <h1 id="allowanceMoneyMade" >In two years you've gained <spanclass="moneyText">$65</span></h1>
                    <p>But you also spent <span id="exAmountSpent" class="badMoneyText">$100</span> on other expenses.</p>
                    <p>If you cut down on your spending by</p>
                    <div class="percentInput">
                        <input type="text" maxlength="3" value="50" inputMode="numeric" step="1" id="exCutDown" oninput="updateAmountSaved()">
                        <p>%</p>
                    </div>
                    <p>In <span id="exNumYears">50</span> years you'd have an extra <span class="moneyText" id="exAmountSaved">$100</span></p>
                    <input type="range" min="10" max="80" value="50" oninput="changeYears(this.value)">
                    <p class="subtleText">Move slider to change the number of years</p>
                </div>

                <div style="width: 600px; margin-left: 50px;">
                    <canvas id="exChart"></canvas>
                    <br>
                    <button class="defaultBtn randomizeBtn" onClick="createSavingsGraph()">Update Graph</button>
                </div>
            </div>
        </div>

        <div class="jobOptions hidden block">
            <h2>Choose amount of hours you want to work per week</h2>
            <p>In most provinces the definition of part-time work is anything less than 30 hours worked per week for a single employer.</p>
            <h1 id="mood" style="color: green">:)</h1>
            <p>Work <span id="numHours">15</span> hours per week</p>
            <input type="range" min="10" max="30" value="15" oninput="changeHours(this.value)">
            <p class="subtleText">Move the slider to change hours</p>
            <p class="tip"><img src="tip.png" width="50" />Balancing work hours with your school and social life is very important. Working too much can often have a negative effect on your grades and even general mental health. Keep that in mind when choosing your hours.</p>
        </div>

        <div class="jobProgress hidden block">
            <h1></h1>
            <p></p>

            <div id="taxesInfo" class="maxWidth">
                <p>In reality, you only take home <strong>85%</strong> of that, this is due to <strong>Income Tax</strong>.</p>
                <br>
                <p>Income Tax is essentially a fee paid to the government to help fund public services. These services can include public health care, public education, roadways, and many more social benefits.</p>
                <p>For most part-time workers the tax rate is <strong>15%</strong> meaning that <strong>15%</strong> of your <a href="#" onclick="help(4)">gross income</a> goes to the government. The more money you make per year the higher your tax rates become. To check out all Federal Income Tax rates checkout <a target="_blank" href="https://www.canada.ca/en/financial-consumer-agency/services/financial-toolkit/taxes-quebec/taxes-quebec-2/5.html">canada.ca</a>.</p>
                <br>

                <h1>Income after income tax <span id="afterTax" class="moneyText"></span><br><span id="tax" class="badMoneyText"></span> was paid to the government</h1>
                <p class="subtleText">Formula: Income x 0.85</p>
            </div>
        </div>

        <div class="jobOptions hidden block">
            <h2>You're Working Full Time Now!</h2>
            <p><span id="aboveMinimum"></span><br>Minimum wage is the smallest amount an employer can pay for your work, this varies widely from province to province.
            <table>
                <tr>
                    <th>Province</th>
                    <th>Minimum Wage (per hour)</th>
                </tr>
                <tr>
                    <td>Alberta</td>
                    <td>$15.00</td>
                </tr>
                <tr>
                    <td>British Columbia</td>
                    <td>$15.20</td>
                </tr>
                <tr>
                    <td>Manitoba</td>
                    <td>$11.95</td>
                </tr>
                <tr>
                    <td>New Brunswick</td>
                    <td>$11.75</td>
                </tr>
                <tr>
                    <td>Newfoundland and Labrador</td>
                    <td>$12.75</td>
                </tr>
                <tr>
                    <td>Northwest Territories</td>
                    <td>$15.20</td>
                </tr>
                <tr>
                    <td>Nova Scotia</td>
                    <td>$12.95</td>
                </tr>
                <tr>
                    <td>Nunavut</td>
                    <td>$16.00</td>
                </tr>
                <tr>
                    <td>Ontario</td>
                    <td>$15.00</td>
                </tr>
                <tr>
                    <td>Prince Edward Island</td>
                    <td>$13.00</td>
                </tr>
                <tr>
                    <td>Quebec</td>
                    <td>$13.50</td>
                </tr>
                <tr>
                    <td>Saskatchewan</td>
                    <td>$11.81</td>
                </tr>
                <tr>
                    <td>Yukon</td>
                    <td>$15.20</td>
                </tr>
            </table>
            <p class="subtleText">Information is current as of 2022</p>
            <p>There are some exemptions for minors and other specific jobs.<br>For more information see <a href="https://en.wikipedia.org/wiki/Minimum_wage_in_Canada" target="_blank">https://en.wikipedia.org/wiki/Minimum_wage_in_Canada</a></p>
        </div>

        <div class="uniOptions hidden block">
            <h1 id="uniName"></h1>
            <h2 id="province"></h2>
            <div class="row">
                <button class="randomizeBtn defaultBtn unis" onclick="randomizeUnis()">Randomize</button>
                <button class="randomizeBtn defaultBtn unis" onclick="chooseUni()">Select</button>
            </div>
        </div>

        <div class="uniOptions hidden block">
            <h1>
                <span class="letter">C</span>
                <span class="letter">o</span>
                <span class="letter">n</span>
                <span class="letter">g</span>
                <span class="letter">r</span>
                <span class="letter">a</span>
                <span class="letter">t</span>
                <span class="letter">u</span>
                <span class="letter">l</span>
                <span class="letter">a</span>
                <span class="letter">t</span>
                <span class="letter">i</span>
                <span class="letter">o</span>
                <span class="letter">n</span>
                <span class="letter">s</span>
                <span class="letter">!</span>
            </h1>
            <h3></h3>
            <p>Attending post-secondary school costs money, on average, in tuition alone, Canadian undergraduate students pay</p>
            <h1 class="badMoneyText">$6693</h1>

            <p class="maxWidth">Thankfully scholarships are there to provide financial aid, millions of dollars in scholarship money goes unclaimed each year. Anyone can apply, so applying for as many as you can is an amazing way to help fund your post-secondary experience.</p>
            <br>
            <p>There are several online resources to help find scholarships, check out Scholarships Canada for an example</p>
            <a href="https://www.scholarshipscanada.com/" target="_blank">Scholarships Canada</a>
            <!-- https://www.cbc.ca/news/canada/calgary/alberta-scholarships-university-post-secondary-funding-1.4642463 -->
        </div>

        <div class="budgeting hidden block">
            <h1>Now that you're moving out you have to learn to manage your expenses.</h1>
            
            <p class="maxWidth" style="margin: auto; margin-bottom: 25px;">Rent is the biggest expense to consider when moving out. Rent largely depends on where you plan to live, the most expensive provinces on average being Ontario, British Columbia and Nunavut with the cheapest being Newfoundland, Yukon and Saskatchewan.</p>
            <p>See up to date stats at <a href="https://rentals.ca/national-rent-report#provincial-rental-rates" target="_blank" rel="noopener noreferrer">Rentals.ca</a></p>
            <!-- Student housing costs less -->

            <img src="rentMap.png" alt="rent map" width="90%" style="max-width: 800px; display: block; margin: auto auto 25px auto;">

            
            <p class="maxWidth" style="margin: auto">The best way to manage your expenses is to create a budget. Budgeting can help you visualize all your expenses and ensure you're not spending more than you can afford.</p>
            <button class="defaultBtn" style="margin-top: 50px" onclick="hideElement(this.parentElement); showElement(document.getElementsByClassName('budgeting')[1]); getInfoForBudget();">Start Budgeting</button>
        </div>

        <div class="budgeting hidden block">
            <h1>Canadian Budgeting Calculator</h1>

            <div class="budgetItem">
                <p id="monthlyIncome"></p>
            </div>

            <div class="budgetItem">
                <div class="dropdownContainer">
                    <p>I want to live in </p>
                    <div class="dropdown">
                        <p id="dropdownProvince">Alberta</p>
                        <div class="dropdownContent">
                            <button class="dropdownBtn" onclick="selectProvince(this)">Alberta</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">British Columbia</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Manitoba</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">New Brunswick</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Newfoundland and Labrador</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Nova Scotia</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Northwest Territories</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Nunavut</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Ontario</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Prince Edward Island</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Quebec</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Saskatchewan</button>
                            <button class="dropdownBtn" onclick="selectProvince(this)">Yukon</button>
                        </div>
                    </div>
                </div>
                <p>Average rent in that province is <span id="rent" class="badMoneyText">$1227</span> a month</p>

                <div class="showStudent hidden">
                    <p>Alterantively, many post secondary institutions offer student housing which generally costs less.</p>
                    <p>According to <a target="_blank" href="https://www.educations.com/study-guides/north-america/study-in-canada/student-housing-15580#:~:text=On%20average%2C%20students%20should%20expect,to%20study%20in%20a%20city.">Educations.com</a> the average rent for on-campus housing, in Canada, is around <span class="badMoneyText">$600</span> per month.</p>
                </div>
            </div>

            <div class="budgetItem">
                <p>I spend <span class="badMoneyText">$<span id="foodSlider">200</span></span> on food a month</p>
                <input type="range" min="150" max="300" value="200" oninput="changeFood(this.value)">
                <p class="subtleText">On average a single person spends $200 - $300 on food each month</p>

            </div>

            <div class="budgetItem">
                <p>Recreation/Other Expenses</p>
                <div class="moneyInput">
                    <p>$</p>
                    <input type="number" min="0" placeholder="0.00" inputMode="decimal" step="any" class="budgetInput" onInput="validateNumInput(this)">
                </div>


            </div>

            <button class="defaultBtn margin" onclick="updateBudgetNumbers()">Calculate</button>
        
            <p>Income: <span class="summary moneyText">$0</span></p>
            <p>Rent: <span class="summary badMoneyText">$0</span></p>
            <p>Food: <span class="summary badMoneyText">$0</span></p>
            <p>Recreation/Other: <span class="summary badMoneyText">$0</span></p>
            <h1>Total Left-Over: <span class="summary moneyText">$0</span></h1>
            <h3 class="summary">Press calculate to see your results!</h3>
            <p class="subtleText">Press the time skip button to continue</p>
        </div>

        <div class="investing hidden block maxWidth">
            <p>Up until this point you've been storing your extra money in a savings account. That's a great option if you think you might need to withdraw the money in the immediate future, but having money you don't need doing nothing is a waste when you could</p>
            <h1 class="grow">Invest it!</h1>
            <p>Investing is a great way to make money with money you don't currently need. Investing is essentially taking out a loan in reverse. Instead of getting money from the bank, you give the bank money and the bank pays you interest.</p>
            <p>Here's an example</p>
            <h3>Say you give the bank</h3>
            <div class="moneyInput">
                <p>$</p>
                <input type="number" min="0" placeholder="0.00" value="1000" inputMode="decimal" step="any" onInput="updateInvest(this)">
            </div>
            <h3>If the interest rate is 6% that means you'd make</h3>
            <h1 id="interestEx" class="moneyText">$60</h1>
            <h3><a href="#" onclick="help(5)">quarterly</a> or <a href="#" onclick="help(6)">semi-annually</a> depending on the type of investment</h3>
            <button class="defaultBtn" onclick="hideElement(this.parentElement); showElement(document.getElementsByClassName('investing')[1]); createCompoundChart(); disableSkipBtn(false)">Next</button>
        </div>

        <div class="investing hidden block maxWidth">
            <h1>Compound vs Simple Interest</h1>
            <p>Interest is what allows you to make money investing, there are many types of interest but the most common are <strong>Compound</strong> and <strong>Simple</strong> Interest</p>
            <p><strong>Simple Interest</strong> is what you saw in the previous example, you get a percent of what you put in.</p>
            <p><strong>Compound Interest</strong> is similar but the money you make from interest is added onto your original investment and reinvested.</p>
            <p>For example, say you invest $1000 at an interest rate of 5% that <a href="#" onclick="help(8)">compounds annually</a>. At the end of the year, you'd make 5% of $1000 which is $50. With compound interest, that money is added to your <a href="#" onclick="help(7)">principal</a> investment. With $50 added, next year, your investment will be $1050, which would then make you $52.5 in interest. This process continues as your investment slowly <strong>compounds</strong>.</p>
            <p>Enter an amount to invest:</p>
            <div class="moneyInput">
                <p>$</p>
                <input type="number" min="0" placeholder="0.00" value="1000" inputMode="decimal" step="any" id="compoundInput">
            </div>
            <button class="defaultBtn" onclick="createCompoundChart()" style="margin: 25px;">Calculate Interest</button>
            <canvas id="compoundChart" ></canvas>
            <h2>Simple Interest</h2>
            <p id="simpleExplained"></p>
            <p class="subtleText">formula: principal + (principal * interestRate * years)</p>
            <h2>Compound Interest</h2>
            <p class="compoundExplained"></p>
            <p class="compoundExplained"></p>
            <p class="subtleText">formula: A = P(1 + <sup>r</sup>/<sub>n </sub> ) <sup> nt</sup></p>
            <p class="subtleText">A = final amount, P = principal, r = interest rate, n = number of times interest applied per time period, t = periods elapsed</p>
        </div>
        <div class="end hidden block">
            <h1>You made it to retirement at <span id="retirementAge"></span>!</h1>
            <p>In total, you earned: <span id="totalMoney" class="moneyText"></span></p>
            <p>Your <span id="endInvestment" class="moneyText">$1000</span> investment turned into <span id="investmentReturn" class="moneyText">$7348279</span> with compound interest</p>
            <p>You spent <span id="endExpenses" class="badMoneyText">$1000</span> in expenses, ignoring transportation and MANY other costs</p>

        </div>
        <div class="end hidden block maxWidth">
            <h1>The End?</h1>
            <p>This was just a short introduction to some of the most important information relevant to young people just getting started.</p>
            <p>How you use and spend money changes as you change. Buying a house, having kids, planning for retirement, and other life-changing decisions require a different approach to how you manage your finances.</p>
            <p>The world of finances can be vast and sometimes confusing but thankfully your learning doesn't have to stop here. There are resources everywhere to help empower you with financial knowledge.</p>
            <h3>Check out this page to get started</h3>
            <a href="https://www.canada.ca/en/services/finance.html" target="_blank">Finances Canada</a>
            <br>
            <p>Or</p>
            <button onclick="showReloadWarning = false; location.reload()" class="defaultBtn">Play Again</button>
        </div>
    </div>

    <div class="helpContainer">
        <div class="helpItem">
            <div class="helpText">
                <h2>Tip</h2>
                <br/>
                <p>Most experts reccomend 50% of your income go to necessities (rent, groceries, etc), 30% to spending, and 20% to be put into savings.</p>
                <a target="_blank" href="https://www.morningstar.ca/ca/news/205618/how-much-should-i-be-saving.aspx">Source</a>
            </div>
            <div class="helpText">
                <h2>Tip</h2>
                <p>If you continue saving just $5 a week for 80 years you'd have an extra $19200 of spare cash!</p>
            </div>
            <div class="helpText">
                <h2>You need to apply for a job before you can continue</h2>
            </div>
            <div class="helpText">
                <h2>Please Fill Out All Fields Properly</h2>
            </div>
            <div class="helpText">
                <h2>Gross Income is your total income before any taxes or fees</h2>
            </div>
            <div class="helpText">
                <h3>Getting paid <strong>quarterly</strong> means you get paid every 3 months, because a quarter of a year is 3 months (12 / 4 = 3)</h3>
            </div>
            <div class="helpText">
                <h3>Getting paid <strong>semi-annually</strong> means you get paid twice a year or every 6 months</h3>
            </div>
            <div class="helpText">
                <h3>The principal is the original amount of money you invested, in this case it's $1000</h3>
            </div>
            <div class="helpText">
                <h3>When your investment compounds annually that means you gain money from your investment every year</h3>
            </div>
            <div class="progressBarContainer">
                <div class="progressBar"></div>
            </div>
        </div>

    </div>

    <div class="overlayContainer">
        <div class="overlayContent">
            <h1>Congratulations!</h1>
            <p id="babyText"></p>
            <button class="defaultBtn overlayBtn" onclick="hideOverlay(0)">Okay</button>
        </div>

        <div class="overlayContent">
            <h1>Allowance</h1>
            <p>At 10 years old your parents have given you an allowance of $5 a week in exchange for doing household chores. Before moving on lets answer some questions.</p>
            <button class="defaultBtn overlayBtn" onclick="hideOverlay(1)">Lets go</button>
        </div>

        <div class="overlayContent">
            <h1>First Job!</h1>
            <p>It's time to apply for your first part time job.</p>
            <button class="defaultBtn overlayBtn" onclick="hideOverlay(2)">Okay</button>
        </div>

        <div class="overlayContent">
            <!-- if you hae time maybe make an interview system where it asks questions -->
            <h1>You Got the Job!</h1>
            <p id="starterJobName"></p>
            <button class="defaultBtn overlayBtn" onclick="hideOverlay(3)">Okay</button>
        </div>

        <div class="overlayContent">

            <h1>Graduation!</h1>
            <p>You've graduated high school decide where you go next:</p>
            <button class="defaultBtn overlayBtn" onclick="graduate(false)">Get a Job</button>
            <button class="defaultBtn overlayBtn" onclick="graduate(true)">Attend University or College</button>
        </div>

        <div class="overlayContent">
            <h1>Time to move out!</h1>
            <img src="house.jpg" width="245px">
            <p>Moving out comes with its own challenges and costs.</p>
            <button class="defaultBtn overlayBtn" onclick="hideOverlay(5)">Move out</button>
        </div>

        <div class="overlayContent">
            <h1>Graduation Part Two!</h1>
            <p>You studied hard and managed to graduate with a degree. Time to start the job search.</p>
            <button class="defaultBtn overlayBtn" onclick="hideOverlay(6)">Start Searching</button>
        </div>
    </div>




    <!-- 
 surprise choices

 new job
 buy house - monye spent on rent without hosue



 -->

    <script>


        function skipAhead(phase) {
            document.getElementsByClassName("startingContainer")[0].style.display = "none";
            year =  2004;
            name = "Testing";
            document.getElementsByClassName("avatar")[0].src = "blue.svg"; 
            document.getElementById("year").innerText = year;
            document.getElementById("name").innerText = name;
            document.getElementById("job").innerText = "No job";
            document.getElementById("wage").innerText = "$0/hr";
            document.getElementById("age").innerText = age + " years old";
            document.getElementById("startMess").innerText = "The year is " + year + ", and you're 0 years old. Press the \"Time Skip\" button to leap forward in time and learn about money as you go.";            
            document.documentElement.style.setProperty("--accentColor", "#9D154D");
            document.getElementsByClassName("header")[0].style.visibility = "visible";
            document.getElementsByClassName("header")[0].style.marginTop = 0;
            document.getElementsByClassName("main")[0].style.visibility = "visible";
            document.getElementsByClassName("main")[0].style.opacity = 1;
                
            let overlayIndex = 0;
            for (let i = 1; i < phase + 1; i++) {
                if (i == 2) {
                    let inputs = document.getElementsByClassName("expenseInput");
                    inputs[0].value = 1;
                    inputs[1].value = 1;
                    inputs[2].value = 1;
                }
                if(i == 4){
                    getJob(starterJobs[0].job, starterJobs[0].wage)
                    hideOverlay(overlayIndex);
                    overlayIndex++;
                    moveForward(i);
                }
                if(i == 6){
                    graduate(false);
                    overlayIndex++;
                    break;
                }
                if(i != 4) moveForward(i);
                if(i != 3 && i != 4){
                    hideOverlay(overlayIndex);
                    overlayIndex++;
                }
            }
        }

        // data 
        var name = "Finlay Soehn";
        var age = 0;
        var year = new Date().getFullYear();

        const starterJobs = [{
            job: "Library Assistant",
            wage: 14.00,
            imgSrc: "job.svg"
        }, {
            job: "Pet Groomer",
            wage: 13.00,
            imgSrc: "job.svg"
        }, {
            job: "Barista",
            wage: 15.10,
            imgSrc: "job.svg"
        }, {
            job: "Grocery Store Cashier",
            wage: 15.00,
            imgSrc: "job.svg"
        }, {
            job: "Dish Washer",
            wage: 13.00,
            imgSrc: "job.svg"
        }, {
            job: "Snow Remover",
            wage: 13.00,
            imgSrc: "job.svg"
        }, {
            job: "Baby Sitter",
            wage: 16.13,
            imgSrc: "job.svg"
        }, {
            job: "Dog Walker",
            wage: 15.23,
            imgSrc: "job.svg"
        }]

        const noUniJobs = [{
            job: "Construction Worker",
            wage: 19.08,
            imgSrc: "job.svg"
        }, {
            job: "Customer Service",
            wage: 16.86,
            imgSrc: "job.svg"
        }, {
            job: "House Keeper",
            wage: 16.45,
            imgSrc: "job.svg"
        }, {
            job: "Receptionist",
            wage: 18.44,
            imgSrc: "job.svg"
        }, {
            job: "Sales Agent",
            wage: 18.00,
            imgSrc: "job.svg"
        }, {
            job: "Package Deliver",
            wage: 17.00,
            imgSrc: "job.svg"
        }, {
            job: "Truck Driver",
            wage: 23.90,
            imgSrc: "job.svg"
        }, {
            job: "Cake Decorator",
            wage: 15.50,
            imgSrc: "job.svg"
        }, {
            job: "Janitor",
            wage: 16.90,
            imgSrc: "job.svg"
        }, {
            job: "Chef",
            wage: 20.53,
            imgSrc: "job.svg"
        }, {
            job: "Landscaper",
            wage: 19.73,
            imgSrc: "job.svg"
        }, {
            job: "Furniture Mover",
            wage: 18.52,
            imgSrc: "job.svg"
        }, {
            job: "Warehouse Worker",
            wage: 17.00,
            imgSrc: "job.svg"
        }];

        const uniJobs = [
            {
                job: "Software Developer",
                wage: 42,
                imgSrc: "job.svg"
            }, {
                job: "Teacher",
                wage: 22,
                imgSrc: "job.svg"
            }, {
                job: "Finance Clerk",
                wage: 25.00,
                imgSrc: "job.svg"
            }, {
                job: "Data Anayst",
                wage: 32.00,
                imgSrc: "job.svg"
            }, {
                job: "Geologist",
                wage: 39.77,
                imgSrc: "job.svg"
            }, {
                job: "Doctor",
                wage: 54.00,
                imgSrc: "job.svg"
            }, {
                job: "Veterinarian",
                wage: 44.87,
                imgSrc: "job.svg"
            }, {
                job: "Chemical Engineer",
                wage: 41.03,
                imgSrc: "job.svg"
            }, {
                job: "Ecologist",
                wage: 38.52,
                imgSrc: "job.svg"
            }, {
                job: "Water Quality Scientist",
                wage: 46.55,
                imgSrc: "job.svg"
            }, {
                job: "Pharmacist",
                wage: 47.50,
                imgSrc: "job.svg"
            },
        ]

        const unis = [{
            province: "Alberta",
            unis: ["The University of Alberta", "The University of Calgary"],
            rent: 1227
        },
        {
            province: "British Columbia",
            unis: ["The University of Victoria", "The University of British Columbia"],
            rent: 2181
        },
        {
            province: "Manitoba",
            unis: ["The University of Manitoba", "The University of Winnipeg"],
            rent: 1354
        },
        {
            province: "New Brunswick",
            unis: ["The University of New Brunswick", "St. Thomas University"],
            rent: 1796
        },
        {
            province: "Newfoundland and Labrador",
            unis: ["The Memorial University of Newfoundland", "The College of the North Atlantic"],
            rent: 969
        },
        {
            province: "Nova Scotia",
            unis: ["The University of King's College", "Dalhousie University"],
            rent: 1699
        },
        {
            province: "Ontario",
            unis: ["The University of Toronto", "The University of Waterloo"],
            rent: 2110
        },
        {
            province: "Prince Edward Island",
            unis: ["The University of Prince Edward Island", "Holland College"],
            rent: 1359
        },
        {
            province: "Saskatchewan",
            unis: ["The University of Regina", "The University of Saskatchewan"],
            rent: 1026
        },{
            province: "Yukon",
            unis: ["Yukon University", "The Yukon School of Visual Arts"],
            rent: 1000
        },{
            province: "Northwest Territories",
            unis: ["Aurora College", "La College Nordique Francophone"],
            rent: 1723

        },{
            province: "Nunavut",
            unis: ["Akitsiraq Law School", "Nunavut Arctic College"],
            rent: 2566

        },{
            province: "Quebec",
            unis: ["The University of Montreal", "Le Université Du Québec En Outaouais UQO"],
            rent: 1686
        }];

        // game vars
        var phase = 1;
        var avatar;
        var wage = 15;
        var workHours = 20;
        var expenses;
        var balance = 0;
        var yrs = random(2, 8);
        var job = "none";
        var education;
        var exAmountSpent = [];
        var exSavingsGraph;
        var investmentGraph;
        var amountErned;
        var jobProgress = document.getElementsByClassName("jobProgress")[0];
        var letterInterval;
        var showReloadWarning = true;

        // elements
        var overlay = document.getElementsByClassName("overlayContainer")[0];
        var extranExpenses = document.getElementsByClassName("extraniousExpenses");
        var main = document.getElementsByClassName("main")[0];

        window.onbeforeunload = function () {
            if(showReloadWarning){
                return 'Are you want to reload? Changes you made may not be saved.';
            }
        }

        // setup();
        function shakeStartBtn() {
            var startBtn = document.getElementById("startBtn");
            startBtn.style.animation = "shake 200ms linear 2";
            setTimeout(() => {
                startBtn.style.animation = 'none';
                startBtn.offsetHeight; /* trigger reflow */
                startBtn.style.animation = null;
            }, 600);
        }

        function setup() {
            let tempName = document.getElementById("nameInput").value;
            let tempAge = parseInt(document.getElementById("ageInput").value);
            let err = document.getElementById("inputErrText");

            if(tempName == ""){
                err.innerText = "Enter a name";
                err.style.opacity = 1;
                shakeStartBtn();

                return;
            }

            if(tempAge > 1000){
                err.innerText = "Uh oh! You're too old!";
                err.style.opacity = 1;
                shakeStartBtn();
                return;
            }

            if(isNaN(tempAge) || tempAge < 0){
                err.innerText = "Enter an accurate age";
                err.style.opacity = 1;
                shakeStartBtn();
                return;
            }

            if(avatar == undefined){
                err.innerText = "Select an avatar";
                err.style.opacity = 1;
                shakeStartBtn();

                return;
            }
            document.getElementsByClassName("startingContainer")[0].style.opacity = 0;
            setTimeout(() => {
                document.getElementsByClassName("startingContainer")[0].style.display = "none";

                year = parseInt(year) - tempAge;
                name = tempName;
                document.getElementsByClassName("avatar")[0].src = avatar; 
                document.getElementById("year").innerText = year;
                document.getElementById("name").innerText = name;
                document.getElementById("job").innerText = "No job";
                document.getElementById("wage").innerText = "$0/hr";
                document.getElementById("age").innerText = age + " years old";
                document.getElementById("startMess").innerText = "The year is " + year + ", and you're 0 years old. Press the \"Time Skip\" button to leap forward in time and learn about money as you go.";
                
                let accentColor;
                if(avatar.includes("pink.svg")) accentColor = "#9D154D";
                else if(avatar.includes("blue.svg")) accentColor = "#036591";
                else if(avatar.includes("green.svg")) accentColor = "#366F36";
                else if(avatar.includes("yellow.svg")) accentColor = "#9D9D01";
                else if(avatar.includes("purple.svg")) accentColor = "#462C73";
                              
                document.documentElement.style.setProperty("--accentColor", accentColor);

                document.getElementsByClassName("header")[0].style.visibility = "visible";
                document.getElementsByClassName("header")[0].style.marginTop = 0;
                setTimeout(() => {

                    document.getElementsByClassName("main")[0].style.visibility = "visible";
                    document.getElementsByClassName("main")[0].style.opacity = 1;
                    
        
                    
                }, 1000)
            }, 500)
        }

        function changePercent(value) {
            document.getElementsByClassName("percent")[0].innerText = "Spending " + value + "%";
            document.getElementsByClassName("percent")[1].innerText = "Savings " + (100 - value) + "%";
        }

        function changeFood(value){
            document.getElementById("foodSlider").innerText = value;
        }

        function help(index) {
            let helpEls = document.getElementsByClassName("helpText");
            if (helpEls[index].style.display === "block") return;
            for(let i = 0; i < helpEls.length; i++){
                helpEls[i].removeAttribute("style");
            }
            helpEls[index].style.display = "block";
            let progressBar = document.getElementsByClassName("progressBar")[0];
            document.getElementsByClassName("helpContainer")[0].style.transform = "translateY(0)";
            setTimeout(() => {
                progressBar.style.width = 0;
                setTimeout(() => {
                    document.getElementsByClassName("helpContainer")[0].style.transform = "translateY(100%)";
                    setTimeout(() => {
                        progressBar.style.transition = "none";
                        progressBar.style.width = "100%";
                        setTimeout(() => {
                            progressBar.style.transition = "width 7s linear";
                            helpEls[index].style.display = "none";
                        }, 100);
                        helpEls[index].style.display = "none";
                    }, 1000);
                }, 7000);
            }, 1000);
        }

        function setEndValues(){
            let investment = parseInt(document.getElementById("compoundInput").value);
            if(isNaN(investment)) investment = 1000;
            document.getElementById("endInvestment").innerText = formatMoney(investment);
            document.getElementById("totalMoney").innerText = formatMoney(balance);
            document.getElementById("investmentReturn").innerText = formatMoney(calcCompound(investment, 0.05, age));
            document.getElementById("endExpenses").innerText = formatMoney(expenses * (age - 10));
        }

        function hideOverlay(index) {
            overlay.style.backgroundColor = "rgba(0,0,0,0)";
            document.getElementsByClassName("overlayContent")[index].style.transform = "translateY(-250%)";
            setTimeout(() => {
                overlay.style.display = "none";
                document.getElementsByClassName("overlayContent")[index].style.display = "none";
            }, 1000);
            if (index == 3) {
                hideElement(document.getElementsByClassName("jobs")[0]);

                // if(phase != 10) main.style.overflowY = "hidden";
                // main.style.justifyContent = "center";
                disableSkipBtn(false);

                console.log(phase)
                if(phase == 7 || phase == 10){
                    showElement(document.getElementsByClassName("jobOptions")[1]);
                    if(wage == 15) document.getElementById("aboveMinimum").innerText = "Your job pays $15 which is minimum wage in Alberta.";
                    else document.getElementById("aboveMinimum").innerText = "Your job pays " + formatMoney(wage) + " which is " + formatMoney(wage - 15) + " above minimum wage in Alberta.";

                }else showElement(document.getElementsByClassName("jobOptions")[0]);
            }
        }

        function showOverlay(index) {
            overlay.style.display = "flex";
            setTimeout(() => {
                overlay.style.backgroundColor = "rgba(0,0,0,0.75)";
                document.getElementsByClassName("overlayContent")[index].style.display = "flex";
                setTimeout(() => {
                    document.getElementsByClassName("overlayContent")[index].style.transform = "translateY(0)";
                }, 500);
            }, 150);
        }

        function randomizeUnis(){

            disableSkipBtn(true);
            let name = document.getElementById("uniName");
            let province = document.getElementById("province");
            let uni = unis[random(0, unis.length - 1)];
            console.log(uni.unis, uni.province)
            province.innerText = uni.province;
            name.innerText = uni.unis[random(0, uni.unis.length - 1)];
        }

        function chooseUni(){
            let name = document.getElementById("uniName");
            let province = document.getElementById("province");
            let container = document.getElementsByClassName("uniOptions");
            phase = 8;
            container[1].getElementsByTagName("h3")[0].innerHTML = "You've been accepted into " + name.innerText;
            disableSkipBtn(false);
            showElement(container[1]);
            hideElement(container[0])
            let index = 0;
            let letters = document.getElementsByClassName("letter");
            letterInterval = setInterval(() => {
                let el = letters[index];
                el.style.transform = "translateY(-10px)";
                setTimeout(() => {
                    el.style.transform = "translateY(0px)"; 
                }, 500)
                if(index == letters.length - 1) index = 0;
                else index++;
            }, 100)
        }

        function graduate(atteningUni) {
            education = atteningUni;
            if (atteningUni) {
                randomizeUnis();
                main.style.overflowY = "none";
                main.style.justifyContent = "center";
                showElement(document.getElementsByClassName("uniOptions")[0]);
            } else {
                document.getElementsByClassName("jobs")[0].firstElementChild.innerText = "Full-Time Job Postings";
                const tempFunc = (e) => {
                    help(2);
                    shakeSkipBtn();
                }
                document.getElementsByClassName("skipBtn")[0].onclick = tempFunc;
                // document.getElementsByClassName("skipBtn")[1].onclick = tempFunc;
                showRandomJobs(noUniJobs);
                
                main.style.overflowY = "scroll";
                main.style.justifyContent = "unset";
            }
            hideElement(document.getElementsByClassName("jobProgress")[0]);
            hideOverlay(4);
        }

        function changeBalance(amount, time) {
            // if (time == undefined) time = 100;
            if (amount < 1000) time = 100;
            else time = 200;

            let temp = balance;
            balance += amount;

            let interval = Math.abs(amount / time);

            rainMoney(10 * ((balance - temp) / interval));

            const addMoney = () => {
                if (amount > 0) temp += interval;
                else temp -= interval;

                document.getElementById("balance").innerText = formatMoney(temp);
                if (temp.toFixed(2) >= balance) clearInterval(moneyInt);
            }

            let moneyInt = setInterval(addMoney, 10);
        }

        function selectAvatar(el){
            let avatars = document.getElementsByClassName("avatarOption");
            avatar = el.src;
            for(let i = 0; i < avatars.length; i++){
                avatars[i].removeAttribute("style");
            }
            el.style.borderRadius = "100%";
        }

        function moveForward() {
            console.log(phase);
            switch (phase) {
                case 1:
                    showOverlay(0);
                    let message = "At " + yrs + " years old you've gained a very basic understanding of how money works! ";
                    if (yrs < 5) {
                        message += "You got the hang of it way earlier than most, you're a baby genius &#x1F92F;&#x1F92F;&#x1F92F;" //🤯
                    } else if (yrs > 7) {
                        message += "It took you a little longer than most. The average age child learns at around 6 or 7, but don't worry you're just a late bloomer &#x1F609;"; //😉
                    } else {
                        message += "You've started down the path to financial success &#x1F604;" //😄
                    }
                    document.getElementById("babyText").innerHTML = message;


                    break;
                case 2:
                    yrs = 10 - age;
                    showOverlay(1);
                    // document.getElementsByClassName("startingMessage")[0].style.display = "none";
                    // document.getElementsByClassName("mainGrid")[0].style.display = "flex";
                    hideElement(document.getElementsByClassName("startingMessage")[0]);
                    // showElement(document.getElementsByClassName("mainGrid")[0]);
                    showElement(extranExpenses[0]);


                    break;
                case 3:
                    yrs = random(3, 4);

                    let inputs = document.getElementsByClassName("expenseInput");
                    for (let i = 0; i < inputs.length; i++) {
                        console.log(inputs[i].value)
                        if (inputs[i].value == "") {
                            help(3);
                            shakeSkipBtn();
                            return;
                        }
                        exAmountSpent.push(parseInt(inputs[i].value) * 12);
                    }

                    changeBalance(yrs * 240);


                    document.getElementById("allowanceMoneyMade").innerHTML = "In " + yrs + " years you've gained <span class='moneyText'>" + formatMoney(yrs * 240) + "</span>";
                    document.getElementById("exAmountSpent").innerText = formatMoney((exAmountSpent[0] + exAmountSpent[1] + exAmountSpent[2]) * yrs);
                    updateAmountSaved();

                    hideElement(extranExpenses[0]);
                    showElement(extranExpenses[1]);

                    createSavingsGraph();


                    break;
                case 4:
                    yrs = 2; // age 15 or 16
                    main.style.overflowY = "scroll";
                    main.style.justifyContent = "unset";
                    main.style.paddingTop = "100px";
                    main.style.paddingBottom = "100px";
                    const tempFunc = (e) => {
                        help(2);
                        shakeSkipBtn();
                    }
                    document.getElementsByClassName("skipBtn")[0].onclick = tempFunc;
                    // document.getElementsByClassName("skipBtn")[1].onclick = tempFunc;
                    showOverlay(2);
                    showRandomJobs(starterJobs);
                    hideElement(extranExpenses[1]);
                    document.getElementsByClassName("main")[0].scrollTo(0, 0);

                    break;
                case 5:
                    yrs = 2;
                    // move ahead two years so youre either 17 or 18 when you graduate 

                    amountErned = (wage * workHours * 52 * yrs);
                    jobProgress.firstElementChild.innerHTML = "In " + yrs + " years your " + job + " gig earned you <br><span class='moneyText'>" + formatMoney(amountErned) + "</span><br>while working " + workHours + " hours a week";
                    document.getElementById("afterTax").innerText = formatMoney(amountErned * 0.85);
                    document.getElementById("tax").innerText = formatMoney(amountErned * 0.15);
                    changeBalance(amountErned * 0.85);
                    showElement(jobProgress);
                    hideElement(document.getElementsByClassName("jobOptions")[0]);
                    break;
                case 6:
                    showOverlay(4);
                    break;
                case 7:
                    // THIS SHIT ONLY SHOWS WHEN YOU PICK JOB BUT IDK IF I DID TAXES CORRECT OOPSIES
                    document.getElementsByClassName("main")[0].style.justifyContent = "center";
                    yrs = random(1, 4);
                    amountErned = (wage * 40 * 4 * 12 * yrs * 0.85);
                    if(yrs == 1) jobProgress.firstElementChild.innerHTML = "In " + yrs + " year your " + job + " gig earned you <br><span class='moneyText'>" + formatMoney(amountErned) + "</span>";
                    else jobProgress.firstElementChild.innerHTML = "In " + yrs + " years your " + job + " gig earned you <br><span class='moneyText'>" + formatMoney(amountErned) + "</span>";
                    jobProgress.querySelector("p").innerHTML = "<span class='subtleText'>After Income Tax</span>";
                    jobProgress.lastElementChild.innerHTML = "";
                    changeBalance(amountErned);
                    showElement(jobProgress);
                    hideElement(document.getElementsByClassName("jobOptions")[1]);
                    document.getElementById("taxesInfo").classList.add("hidden");
                    break;
                case 8:
                    main.style.overflowY = "scroll";
                    main.style.justifyContent = "unset";
                    disableSkipBtn(true);
                    if (education) {
                        showOverlay(5);
                        document.getElementsByClassName("showStudent")[0].style.display = "unset";
                        hideElement(document.getElementsByClassName("uniOptions")[1]);
                        showElement(document.getElementsByClassName("budgeting")[0]);
                    } else {
                        showOverlay(5);
                        hideElement(document.getElementsByClassName("jobProgress")[0]);
                        showElement(document.getElementsByClassName("budgeting")[0]);
                    }
                    break;
                case 9:
                    updateBudgetNumbers();
                    hideElement(document.getElementsByClassName("budgeting")[1]);
                    if(education){
                        yrs = 4;
                        showOverlay(6);
                        const tempFunc = (e) => {
                            help(2);
                            shakeSkipBtn();
                        }
                        document.getElementsByClassName("skipBtn")[0].onclick = tempFunc;
                        // document.getElementsByClassName("skipBtn")[1].onclick = tempFunc;
                        showRandomJobs(uniJobs);
                    }else{
                        yrs = 5;
                        main.style.overflowY = "none";
                        main.style.justifyContent = "center";
                        amountErned = (wage * 40 * 4 * 12 * yrs * 0.85);
                        changeBalance(amountErned);
                        jobProgress.firstElementChild.innerHTML = "In " + yrs + " years your " + job + " job earned you <br><span class='moneyText'>" + formatMoney(amountErned);
                        jobProgress.querySelector("p").innerHTML = "But you also spent <span class='badMoneyText'>" + formatMoney(expenses * 12 * yrs) + "</span> on your expenses totalling to <span class='moneyText'>" + formatMoney(amountErned - (expenses * 12 * yrs)) + "</span>";
                        showElement(jobProgress);
                    }
                    break;
                case 10:
                    yrs = 5;
                    disableSkipBtn(true);
                    showElement(document.getElementsByClassName("investing")[0]);
                    main.style.justifyContent = "unset";
                    if(education){
                        hideElement(document.getElementsByClassName("jobOptions")[1]);
                    }else{
                        hideElement(jobProgress);
                    }
                    break;
                case 11:
                    yrs = random(15, 25);
                    hideElement(document.getElementsByClassName("investing")[1]);
                    document.getElementsByClassName("main")[0].style.justifyContent = "center";
                    amountErned = (wage * 40 * 4 * 12 * yrs * 0.85);
                    jobProgress.firstElementChild.innerHTML = "In " + yrs + " years your " + job + " gig earned you <br><span class='moneyText'>" + formatMoney(amountErned) + "</span>";
                    jobProgress.querySelector("p").innerHTML = "<span class='subtleText'>After Income Tax</span>";
                    jobProgress.lastElementChild.innerHTML = "";
                    changeBalance(amountErned);
                    showElement(jobProgress);
                    document.getElementById("taxesInfo").classList.add("hidden");
                    break;
                case 12:
                    hideElement(jobProgress);
                    setEndValues();
                    document.getElementById("retirementAge").innerText = age + yrs;
                    showElement(document.getElementsByClassName("end")[0]);
                    break;
                case 13:
                    let offset = document.getElementsByClassName("header")[0].offsetHeight;
                    main.style.overflow = "hidden";
                    main.style.justifyContent = "center";
                    document.getElementsByClassName("header")[0].style.marginTop = -offset + "px";
                    document.getElementsByClassName("header")[0].style.opacity = 0;
                    setTimeout(() => {
                        document.getElementsByClassName("header")[0].style.display = "none";
                    }, 1000);

                    hideElement(document.getElementsByClassName("end")[0]);
                    showElement(document.getElementsByClassName("end")[1]);

            }

            let clock = document.getElementsByClassName("clock")[0];

            clock.style.transform = "rotate(360deg)";

            setTimeout(() => {
                clock.style.transition = "none";
                clock.style.transform = "rotate(0)";
                setTimeout(() => {
                    clock.style.transition = "transform 1s";
                }, 100);
            }, 1000);

            year += yrs;
            age += yrs;
            phase++;

            document.getElementById("year").innerText = year;
            document.getElementById("age").innerText = age + " years old";
        }



        function shakeSkipBtn() {
            var skipBtn = document.getElementsByClassName("skipBtn")[0];
            // if (getComputedStyle(document.getElementsByClassName("hideMobile")[0]).display == "none") skipBtn = skipBtn[0];
            // else skipBtn = skipBtn[1]
            skipBtn.style.animation = "shake 200ms linear 2";
            setTimeout(() => {
                skipBtn.style.animation = 'none';
                skipBtn.offsetHeight; /* trigger reflow */
                skipBtn.style.animation = null;
            }, 600);
        }

        function showRandomJobs(jobs) {

            let jobContainer = document.getElementsByClassName("jobs")[0];
            let grid = document.getElementsByClassName("grid")[0];
            grid.innerHTML = "";
            var jobIndex = [];
            document.getElementsByClassName("randomizeBtn")[0].onclick = () => {
                showRandomJobs(jobs)
            };

            for (let i = 0; i < 4; i++) {
                while (true) {
                    let rand = random(0, jobs.length - 1);
                    if (!jobIndex.includes(rand)) {
                        jobIndex.push(rand);
                        break;
                    }
                }

                let itemInfo = document.createElement("div");
                itemInfo.classList = "itemInfo";

                let title = document.createElement("h2");
                title.classList = "itemTitle";
                title.innerText = jobs[jobIndex[i]].job;
                itemInfo.append(title);

                let wage = document.createElement("h2");
                wage.classList = "itemPrice";
                wage.innerText = "$" + jobs[jobIndex[i]].wage.toFixed(2) + "/hour";
                itemInfo.append(wage);

                let btn = document.createElement("button");
                btn.classList = "buyBtn";
                btn.innerText = "APPLY";
                btn.onclick = () => {
                    getJob(jobs[jobIndex[i]].job, jobs[jobIndex[i]].wage)
                };
                itemInfo.append(btn);

                let img = document.createElement("img");
                img.classList = "itemImg";
                img.src = jobs[jobIndex[i]].imgSrc;

                
                let newJob = document.createElement("div");
                newJob.classList = "gridItem";

                newJob.append(img);
                newJob.append(itemInfo);

                grid.append(newJob);
            }

            // if(education){
            //     let message = document.createElement("p");
            //     message.innerText = "Your salary is the total amount of money an employer pays you every year";
            //     message.classList = "subtleText";
            //     message.style.marginTop = "25px";
            //     jobContainer.appendChild(message);
            // }


            if (!jobContainer.classList.contains("transitionElement")) showElement(jobContainer);
            window.scrollTo(0, 0);
        }

        function getJob(jobName, wageAmount) {
            document.getElementById("job").innerText = job = jobName;
            if(wageAmount > 1000) wage = wageAmount / 2840;
            else wage = wageAmount;
            document.getElementById("wage").innerText = formatMoney(wage) + "/hr";
            
            if(education == false){
                document.getElementById("starterJobName").innerText = "Your career as a " + job + " has just begun.";
                workHours = 40;
            }else{
                document.getElementById("starterJobName").innerText = "Your journey as a " + job + " has just begun.";
            }
            showOverlay(3);
        }

        function selectProvince(prov){
            prov = prov.innerText;
            document.getElementById("dropdownProvince").innerText = prov;
            let rentDisp = document.getElementsByClassName("rent");
            for(const i in unis){
                if(unis[i].province == prov){
                    document.getElementById("rent").innerText = formatMoney(unis[i].rent);
                }
            }
        }

        function disableSkipBtn(disable){
            if(disable){
                document.getElementsByClassName("skipBtn")[0].onclick = () => {shakeSkipBtn()};
                // document.getElementsByClassName("skipBtn")[1].onclick = () => {shakeSkipBtn()};
            }else{
                document.getElementsByClassName("skipBtn")[0].onclick = () => {moveForward()};
                // document.getElementsByClassName("skipBtn")[1].onclick = () => {moveForward()};
            }
        }

        function getInfoForBudget(){
            document.getElementById("monthlyIncome").innerHTML = "Monthly income <span class='moneyText'>" + formatMoney(wage * workHours * 4 * 0.85) + "</span> working as a " + job + " for $" + wage + "/hr " + workHours + " hours a week, after tax";
            disableSkipBtn(false);
            window.scrollTo(0, 0);
        }

        function updateBudgetNumbers(){
            let summary = document.getElementsByClassName("summary");
            let income = wage * workHours * 4 * 0.85;
            let rent = parseInt(document.getElementById("rent").innerText.substring(1));
            if(education) rent = 600;
            let food = parseInt(document.getElementById("foodSlider").innerText);
            let other = parseInt(document.getElementsByClassName("budgetInput")[0].value);
            if(isNaN(other)) other = 0;

            summary[0].innerText = formatMoney(income);
            summary[1].innerText = formatMoney(-rent);
            summary[2].innerText = formatMoney(-food);
            summary[3].innerText = formatMoney(-other);
            summary[4].innerText = formatMoney(income - (rent + food + other));
            expenses = rent + food + other;
            
            summary[4].style.transform = "scale(1.5)";
            summary[4].style.marginLeft = "15px";
            setTimeout(() => {
                summary[4].style.transform = "scale(1)";
                summary[4].style.marginLeft = "0";
            }, 500)

            if(income - (rent + food + other) > 0){
                summary[4].classList = "summary moneyText";
                summary[5].innerText = "Good budgeting! The money left over should go to investments (which you'll learn more about later) or savings. As you saw before, small savings can add up to a lot!";
            }else {   
                summary[4].classList = "summary badMoneyText";
                summary[5].innerText = "Uh oh! Looks like you're in the red. If your expenses are too high, consider moving in with friends to share rent and grocery expenses. You can also reevaluate your spending and see if there are any costs you can cut out."
            }
        }

        function formatMoney(mon) {
            let round = 0;

            if (mon.toFixed(2) % 1 != 0) round = 2;

            let amount = parseFloat(Math.abs(mon)).toFixed(round);
            // amount = amount.toString().split(".");
            // amount[0] = amount[0].replace(/\B(?=(\d{3})+(?!\d))/g, " ");
            // amount = amount.join(".");

            if (mon < 0) return '-$' + amount;
            else return '$' + amount
        }

        function changeHours(num) {
            document.getElementById("numHours").innerText = num;
            workHours = num;
            let face = document.getElementById("mood");
            let color = "green";
            if (num > 25) {
                face.innerText = ":(";
                color = "red";
            } else if (num >= 20) {
                face.innerText = ":|";
                color = "rgb(231,179,0)";
            } else {
                face.innerText = ":)";
            }
            face.style.color = color;
        }

        function createSavingsGraph(){
            let years = parseInt(document.getElementById("exNumYears").innerText);
            let percent = parseInt(document.getElementById("exCutDown").value) / 100;
            let total = (exAmountSpent[0] + exAmountSpent[1] + exAmountSpent[2]) * years * percent;
            let data = [exAmountSpent[0] * years * percent, exAmountSpent[1] * years * percent, exAmountSpent[2] * years * percent, total];
            if(exSavingsGraph != undefined) exSavingsGraph.destroy();
            exSavingsGraph = new Chart("exChart", {
                type: 'bar',
                data: {
                    labels: ["Food", "Clothing", "Entertainment", "Total"],
                    datasets: [{
                        data: data,
                        backgroundColor: [
                            'rgba(139, 0, 139, 0.2)',
                            'rgba(0, 255, 0, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 99, 132, 0.2)'
                        ],
                        borderColor: [
                            'rgb(139, 0, 139)',
                            'rgb(0, 255, 0)',
                            'rgba(54, 162, 235)',
                            'rgb(255, 99, 132)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Your savings over the next ' + years + ' years',
                        fontSize: 20
                    },
                    legend: {
                        display: false
                    },
                    hover: {
                        animationDuration: 0
                    },
                    animation: {
                        // duration: 0,
                        onComplete: function() {
                            // render the value of the chart above the bar
                            var ctx = this.chart.ctx;
                            ctx.font = Chart.helpers.fontString(Chart.defaults.global.defaultFontSize, 'normal', Chart.defaults.global.defaultFontFamily);
                            ctx.fillStyle = this.chart.config.options.defaultFontColor;
                            ctx.textAlign = 'center';
                            ctx.textBaseline = 'bottom';
                            this.data.datasets.forEach(function(dataset) {
                                for (var i = 0; i < dataset.data.length; i++) {
                                    var model = dataset._meta[Object.keys(dataset._meta)[0]].data[i]._model;
                                    ctx.fillText("$" + dataset.data[i], model.x, model.y - 5);
                                }
                            });
                        }
                    },
                    tooltips: {
                        callbacks: {
                            label: function(tooltipItems, data) {
                                return "$" + tooltipItems.yLabel.toString();
                            }
                        }
                    },
                    scales: {
                        yAxes: [{
                            display: true,
                            ticks: {
                                beginAtZero: true,
                                // steps: 10,
                                // stepValue: 5,
                                // max: total + 100,
                                callback: function(xValues) {
                                    return "$" + xValues;
                                }
                            }
                        }]
                    }
                }  
            })
        }

        function changeYears(num) {
            document.getElementById("exNumYears").innerText = num;
            updateAmountSaved();
        }

        function updateAmountSaved(){
            let years = parseInt(document.getElementById("exNumYears").innerText);
            let percent = parseInt(document.getElementById("exCutDown").value);
            if(isNaN(percent)) percent = 0;
            let amountSpent = parseInt(document.getElementById("exAmountSpent").innerText.substring(1));
            document.getElementById("exAmountSaved").innerText = formatMoney((amountSpent  / yrs) * (percent / 100) * years);
        }

        function updateInvest(el){
            let num = el.value;
            document.getElementById("interestEx").innerText = formatMoney(num * 0.06);
        }

        function calcSimple(principal, percent, years) {
            return principal + (principal * percent * years);
        }

        function calcCompound(principal, percent, years) {
            return principal * Math.pow((1 + (percent / 12)), (years * 12));
            // 12 means its compounded monthly can change later
        }

        function random(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function showElement(element) {
            element.style.opacity = 0;
            element.style.position = "absolute";
            if (element.classList.contains("block")) element.style.display = "block";
            else element.style.display = "flex";
            let height = element.offsetHeight;
            element.style.height = 0;
            element.classList.add("transitionElement");
            setTimeout(() => {
                element.style.position = "unset";
                element.style.height = height + "px";
                setTimeout(() => {
                    element.style.opacity = 1;
                    element.style.height = "auto";
                    document.getElementsByClassName("main")[0].scrollTo(0,0);
                }, 1000);
            }, 100);
        }

        function hideElement(element) {
            console.log(element)
            // element must have class "transitionElement"
            element.style.opacity = 0;
            element.style.height = element.offsetHeight + "px";
            setTimeout(() => {
                element.style.height = 0;
                element.style.margin = 0;
                setTimeout(() => {
                    element.style.display = "none";
                    element.classList.remove("transitionElement");
                }, 1000)
            }, 1000)

        }

        function validateNumInput(input){
            if(input.value.length > 10) input.value = input.value.substring(0, 10);
            if(input.value.includes("-")) input.value = input.value.substring(1);
        }

        function rainMoney(time) {
            const rain = () => {
                var img = document.createElement("IMG");

                switch (random(1, 5)) {
                    case 1:
                        img.src = "5.png";
                        break;
                    case 2:
                        img.src = "10.png";
                        break;
                    case 3:
                        img.src = "20.png";
                        break;
                    case 4:
                        img.src = "50.png";
                        break;
                    case 5:
                        img.src = "100.png";
                }

                img.classList.add("money");
                img.style.left = random(10, 90) + "%";
                let time = random(2, 3);
                img.style.transition = "transform " + time + "s linear, opacity 500ms";
                img.style.transform = "rotate(" + random(10, 350) + "deg)";
                document.getElementsByClassName("account")[0].appendChild(img);
                setInterval(() => {
                    img.style.transform = "translateY(100vh) rotate(0deg)";
                    img.style.opacity = 1;
                }, 50);
                setInterval(() => {
                    img.remove()
                }, time * 1000);
            }

            let int = setInterval(rain, 100);
            setTimeout(() => {
                clearInterval(int);
            }, time);
        }
    
        const chartAreaBorder = {
            id: 'chartAreaBorder',
            beforeDraw(chart, args, options) {
            const {ctx, chartArea: {left, top, width, height}} = chart;
            ctx.save();
            ctx.strokeStyle = options.borderColor;
            ctx.lineWidth = options.borderWidth;
            ctx.setLineDash(options.borderDash || []);
            ctx.lineDashOffset = options.borderDashOffset;
            ctx.strokeRect(left, top, width, height);
            ctx.restore();
            }
        };

        function createCompoundChart(){
            let amount = parseInt(document.getElementById("compoundInput").value);
            if(isNaN(amount)) amount = 0;
            document.getElementById("simpleExplained").innerHTML = "You started with " + formatMoney(amount) + " and gained " + formatMoney(amount * 0.05) + " every year. After 20 years you would have <span class='moneyText'>" + formatMoney(calcSimple(amount, 0.05, 20)) + "</span>, " + amount + " + (" + amount + " x 0.05 x 20) = " + formatMoney(calcSimple(amount, 0.05, 20));
            document.getElementsByClassName("compoundExplained")[0].innerHTML = "You started with " + formatMoney(amount) + " and added " + formatMoney(amount * 0.05) + " to that amount every year. After 20 years you would have <span class='moneyText'>" + formatMoney(calcCompound(amount, 0.05, 20)) + "</span>, lets break that down.";
            document.getElementsByClassName("compoundExplained")[1].innerText = "Year one: investment: " + formatMoney(amount) + ", gained " + formatMoney(amount * 0.05) + " (5% of " + amount.toFixed(2) + ")\n\nYear two: investment: " + formatMoney(amount + (amount * 0.05)) + ", gained " + formatMoney((amount + (amount * 0.05)) * 0.05) + " (5% of " + (amount + (amount * 0.05)).toFixed(2) + ")";
            let yearThreeAmount = (amount + (amount * 0.05)) + ((amount + (amount * 0.05)) * 0.05);
            document.getElementsByClassName("compoundExplained")[1].innerText += "\n\nYear three: investment: " + formatMoney(yearThreeAmount) + ", gained " + formatMoney(yearThreeAmount * 0.05) + " (5% of " + yearThreeAmount.toFixed(2) + ")";
            document.getElementsByClassName("compoundExplained")[1].innerText += "\n\n...Year twenty: investment: " + formatMoney(calcCompound(amount, 0.05, 20)) + ", gained " + formatMoney(calcCompound(amount, 0.05, 20) * 0.05) + " (5% of " + calcCompound(amount, 0.05, 20).toFixed(2) + ")";
            document.getElementsByClassName("compoundExplained")[1].innerHTML += "<br><br><br>You went from gaining <span class='moneyText'>" + formatMoney(yearThreeAmount * 0.05) + "</span> a year to  <span class='moneyText'>" + formatMoney(calcCompound(amount, 0.05, 20) * 0.05) + "</span>. This is why compound interest is so powerful, and why investing earlier usually pays off."
            var xValues = [];
            var yValues = [];
            var yValuesTwo = [];
            var principal = parseInt(document.getElementById("compoundInput").value);
            if(isNaN(principal)) principal = 0;
            
            for(let i = 0; i < 20; i++){
                xValues.push(i);
                yValues.push((principal * Math.pow((1 + (0.05 / 12)), (i * 12))).toFixed(2));
                yValuesTwo.push((principal + (principal * i * 0.05)).toFixed(2));
            }

            if(investmentGraph != undefined) investmentGraph.destroy();

            investmentGraph = new Chart("compoundChart", {
                type: "line",
                data: {
                    labels: xValues,
                    datasets: [
                        {
                            label: "Simple Interest",
                            backgroundColor: 'rgba(0, 0, 255, 0.2)',
                            borderColor: 'rgb(0, 0, 255)',
                            
                            data: yValuesTwo,
                        },
                        {
                            label: "Compound Interest",
                            backgroundColor: 'rgba(0, 255, 0, 0.2)',
                            borderColor: 'rgb(0, 255, 0)',
                            data: yValues,
                        },
                    ]
                },
                options: {
                    title: {
                        display: true,
                        text: 'Your Investment in 20 Years',
                        fontSize: 20
                    },
                    elements: {
                        point:{
                            radius: 0
                        }
                    },
                    tooltips: {
                        enabled: false
                    },
                    scales: {
                        xAxes: [{
                            gridLines: {
                                drawTicks: true,
                                color: "rgba(0,0,0,1)",
                                drawOnChartArea: false,
                            },
                            ticks: {
                                beginAtZero: false,
                                padding: 5,
                                length: 2
                            }
                        }],
                        yAxes: [{
                            position: 'right',
                            
                            gridLines: {
                                drawTicks: true,
                                color: "rgba(0,0,0,1)",
                                drawOnChartArea: false,
                            },
                            ticks: {
                                padding: 5,
                                textStrokeColor: "rgba(0,0,0,1)",
                                callback: function(xValues) {
                                return "$" + xValues;
                                }
                            }
                            
                        }]
                    },
                    plugins: {
                        chartAreaBorder: {
                        borderColor: 'black',
                        borderWidth: 2,
                        }
                    }
                },
                plugins: [chartAreaBorder],
            });
        }
    </script>
</body>

</html>