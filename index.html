<!DOCTYPE html>

<html>

    <head>

        <title>Home</title>
        <meta charset="utf-8">
        <meta name="keywords" content="Finlay, Soehn, Finlay Soehn">
        <meta name="author" content="Finlay Soehn">

        <style>
            html {
                height: 100%;
            }
            body {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                width: 100%;
                height: 100%;
                font-family: arial;
                overflow: hidden;
            }
            h1 {
                font-size: 10rem;
                margin-top: 10px;
                cursor: default;
                line-height: 0;
                -webkit-user-select: none;       
                -moz-user-select: none; 
                -ms-user-select: none;
                user-select: none;
            }
            
            #name, #links {
                display: flex;
                flex-direction: row;
                justify-content: center;
                align-items: center;
            }
            #fin {
                margin-top: 500px;
            }
            #lay {
                margin-bottom: 500px;
            }
            #lay, #fin, #links {
                opacity: 0;
                position: relative;
                -webkit-transition: all 1s;
                -moz-transition: all 1s;
                -ms-transition: all 1s;
                -o-transition: all 1s;
                -webkit-transition: all 1s;
                transition: all 1s;
            }
            #links {
                width: 25%;
                justify-content: space-between;
            }
        </style>
    </head>

    <body>
        <div id="name">
            <h1 id="fin">Fin</h1><h1 id="lay">lay</h1>
        </div>
        <div id="links">
            <a href="javascript:void(0)" onclick="emailForm()">Contact Me</a>
            <a href="../Sudoku/index.html">Sudoku Solver</a>
        </div>

        <div id="email" style="display: none">
            <textarea name="message"></textarea>
            <input onclick="sendEmail()" type="button" value="submit">
            <p id="response"></p>
        </div>

        <script>      
            window.onunload = () => {};
            let fin = document.getElementById("fin");
            let lay =  document.getElementById("lay");
            let links = document.getElementById("links");
        
            setTimeout(()=>{ 
                fin.style.margin = 0;
                lay.style.margin = 0;
                fin.style.opacity = 1;
                lay.style.opacity = 1;
            }, 1);
            
            setTimeout(()=>{ 
                links.style.marginTop = "100px";
                links.style.opacity = 1;
            }, 1000);

            function emailForm() {
                document.getElementById("email").style.display = "block";
            }

            function sendEmail(){
                event.preventDefault();

                var request = new XMLHttpRequest();
                var url = "/sendEmail.php";
                request.open("POST", url, true);
                request.setRequestHeader("Content-Type", "application/json");
                request.onreadystatechange = function () {
                    if (request.readyState === 4 && request.status === 200) {
                        document.getElementById("response").innerText = request.response;
                    }
                    console.log(request.readyState + " " + request.status + " " + request.response)
                };

                var message = document.getElementsByName("message")[0].value;
                var data = JSON.stringify({"message": message});

                request.send(data);
            }

        </script>
    </body>

</html>
